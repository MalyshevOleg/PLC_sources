diff -u a/Makefile b/Makefile
--- a/Makefile	2012-08-22 20:14:15.748529120 +0300
+++ b/Makefile	2012-08-22 20:15:04.948337240 +0300
@@ -1,10 +1,13 @@
 SHELL := /bin/sh
 
+SRCDIR=.
+VPATH=$(SRCDIR)
+
 CROSS    := arm-unknown-linux-gnueabi-
 CC       := $(CROSS)gcc
 STRIP    := $(CROSS)strip
 
-CPPFLAGS := -D_FILE_OFFSET_BITS=64
+CPPFLAGS := -D_FILE_OFFSET_BITS=64 -I$(SRCDIR) -I.
 CFLAGS   := -Wall -Werror -O2 -pipe
 LDFLAGS  := 
 LDLIBS   :=
@@ -51,9 +54,9 @@
 # autogenerated sources
 
 msg_strings.c: msg_strings.txt
-	iconv -f utf-8 -t cp1251 $< | tools/mksource $(basename $@) > $@
+	iconv -f utf-8 -t cp1251 $< | $(SRCDIR)/tools/mksource $(basename $@) > $@
 
 msg_strings.h: msg_strings.txt
-	cat $< | tools/mkheader $(basename $@) > $@
+	cat $< | $(SRCDIR)/tools/mkheader $(basename $@) > $@
 
 $(OBJS) $(DEPS): msg_strings.h
